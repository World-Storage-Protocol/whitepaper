# 分布式存储基础设施

## `Contents`
- [分布式存储基础设施](#%e5%88%86%e5%b8%83%e5%bc%8f%e5%ad%98%e5%82%a8%e5%9f%ba%e7%a1%80%e8%ae%be%e6%96%bd)
  - [Contents](#contents)
  - [碎碎念](#%e7%a2%8e%e7%a2%8e%e5%bf%b5)
  - [激励系统和共识机制](#%e6%bf%80%e5%8a%b1%e7%b3%bb%e7%bb%9f%e5%92%8c%e5%85%b1%e8%af%86%e6%9c%ba%e5%88%b6)

## 碎碎念
我想做一个分布式存储的基础设施。它没有 Filecoin 那么复杂和强大。准确的讲，目前还只是一个想法而已，甚至很多地方都没有想清楚。

目前的构想是，该基础设施最终形态能提供底层的所有数据服务，主要有以下几类：
1. 文件存储。这个类似 BT
2. 充当服务端。比如提供前端需要的网页。
3. 充当数据库。等等

其实还可以充当计算机，就是分布式计算那一套。但是我的设想里，主要是参与者使用一些旧电脑，旧手机等来提供服务，因此计算能力可能没那么行，而且分布式计算，计算任务的分割之类的可能比较复杂，可以另起一个项目实现。

还有一个动机是手边的旧电脑，旧手机，旧磁盘比较多，相比其他人也是这种情况，要是能够利用起来，对大家都有利。

## 激励系统和共识机制
关于激励系统，个人想法，即使没有激励系统，仅靠用爱发电，这个系统也能够基本运转，类似 BT。当然，如果能够加入激励，能够让这个系统的可用性更高，也能够让该系统规模更大，网络效应更大，服务质量更好。既然有了激励，因此不鼓励做出贡献而不要回报的行为。

关于共识机制，考察了 Filecoin 复杂的白皮书，以及比较高的硬件要求，我产生了一个另外的思路。存储基础设施，它本质是一种服务，当有人需要数据时，“矿工”能够马上把对应数据传递过来，本身这个数据就是一种证明。而且这种证明/服务以及能够满足需求了。我把这种证明叫做服务证明，proof of service，简称 pose。

下面来具体阐述激励系统。
设 Alice 需要下载数据 a，而所有的数据提供者是 Bob。那么该过程结束后，Bob 就拥有对应的系统 Token，Balance[Bob][Alice] = k。某种意义上表示 Bob 拥有对 Alice 的债权，Alice 拥有对 Bob 的债务。其中 k，是根据数据 a 的大小（kB），以及 Alice 和 Bob 事先商量好的"价格"（p/kB）决定。此时如果 Alice 和 Bob 商量好了 k 个币对应的法币数量，并且用法币进行支付后，整个交易行为已经结束。

进一步，如果后续 Bob 需要从 Alice 下载
